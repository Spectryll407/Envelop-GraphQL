---
title: What is Envelop?
---

## What is Envelop?

`envelop` is a lightweight JavaScript (/TypeScript) library for wrapping GraphQL execution layer and flow, allowing developers to develop, share
and collaborate on GraphQL-related plugins while filling the missing pieces in GraphQL implementations.

`envelop` aims to extend the GraphQL execution flow by adding plugins that enrichs the feature set of your application. 

## Key Concepts

#### Plugins & community

The `envelop` plugins are  small, reusable, sharable pieces of code, that can be shipped as NPM packages, or as code in your codebase. 

As an application developer, you can leverage `envelop` plugins to implement custom features, based on your needs.

As as plugin developer, you get the option to contribute to the entire execution pipeline of GraphQL, and share your plugin with others.

The `envelop` plugins are taking part in GraphQL execution pipeline, and can contribute/alter each phase based on their needs.

> With `envelop`, you can easily create a wrapper around your common logic, and share it with others.

#### Lightweight

The core of `envelop` is zero-dependency and will only apply changes to your GraphQL execution based on the plugins you wish to use.

It can be integrated with any GraphQL server that follows [the execution phase, as defined in the GraphQL spec](https://spec.graphql.org/June2018/#sec-Executing-Requests) and let you provide your own lifecycle methods.

#### Wrap the entire pipeline

`envelop` wraps the entire pipeline of the GraphQL operation execution, so developers to take part if all phases - from `parse`, `validate`, context building, `execute` and more.

By offering hooks on the entire pipeline, we allow develoeprs to create plugins that adds a complete features to your GraphQL pipeline, without creating spaghetti code, or code that's specific your your application.

Here's a breakdown of a few `envelop` plugins, and an explanation of how it contributes to the execution pipeline: 

- `useLogger` - hooks into the “before” of all phases, and just does `console.log`.
- `useTiming` - hooks into “before” and “after” of all phases, measures times, and then prints it.
- `useParserCache` - hooks into before and after the `parse` phase and implements caching based on the operation string. 
- `useGraphQLJit` - hooks into `execute` phase and replaces the `execute` function with GraphQL-Jit’s executor. 
- `usePersistedOperations` - hooks into `parse` and replaces the `parse` function with a function that maps a hash into a DocumentNode. 
- `useGenericAuth` - hooks into context building and resolves the current user from the GraphQL request, then hooks into the `execute` phase to verify the user authentication.
- `useOpenTelemetry` - hooks into all phases, execution and resolvers, and creates Spans for OpenTelemetry tracing. 

#### No vendor-locking

We do not aim to provide a complete, vendor-locking suite, since we believe that the developer should be able to adjust any part of their application, at any time, without major implications or refactoring.

The core implementation of `envelop` is agnostic to the HTTP server you use, and agnostic to the way your define your GraphQL Schema, so it's not a traditional "server" framework (you can create plugins that integrates with your HTTP server, of with your schema framework, if needed)

You can use Envelop with any environment (NodeJS or browser) and any GraphQL workflow (client/server, client-side execute, or server-to-server). 

#### Features are just plugins

Separating the execution workflow and the logic that it runs in each phase allow you to write a reusable piece of code.

By using plugins that extends your GraphQL execution, you can very easily add features like: 

- Logging
- Metric collection
- Error handling
- Custom validations
- Resolvers tracing
- Authentication
- Authorization
- ... and much more ...

And <Text as="span" fontWeight="bold">much more</Text>, without the need to write it explicitly every time in every project or microservice.

#### Sharing Envelops

In many cases, developers are looking for a way to reuse their server setup, as a boilerplate/template.

`envelop` allow you to create Envelops instances and later share it with others.

So if you are working in a microservices environment, or in an enterprise that has many servers - you can now share the entire base GraphQL setup in a single variable, and extend it based on your needs.
